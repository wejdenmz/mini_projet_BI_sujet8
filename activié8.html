<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Dashboard Notes √âtudiants</title>

<style>
body{
    font-family: Arial, sans-serif;
    background: #f0f3f8;
    margin:0;
    padding:20px;
}
h1{ text-align:center; color:#4b6cb7; }

.form-container, .stats-container, .table-container{
    max-width:900px;
    margin:20px auto;
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.form-container label{
    display:block;
    margin-top:10px;
    font-weight:bold;
}

.form-container input{
    width:100%;
    padding:8px;
    margin-top:5px;
    border-radius:6px;
    border:1px solid #ccc;
}

button{
    margin-top:15px;
    padding:10px 16px;
    background:#4b46eb;
    color:white;
    border:none;
    border-radius:6px;
    cursor:pointer;
    font-size:15px;
}

.stats-container{
    display:flex;
    justify-content:space-around;
    flex-wrap:wrap;
    gap:20px;
}

.card{
    flex:1;
    min-width:200px;
    background:#eef2fa;
    padding:15px;
    border-radius:10px;
    text-align:center;
}

.card h3{ margin:0; color:#4b46eb; font-size:16px; }
.card p{ font-size:24px; font-weight:bold; margin-top:10px; }

table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
}

th, td{
    padding:10px;
    border-bottom:1px solid #ddd;
    text-align:left;
}

th{
    background:#4b46eb;
    color:white;
}
tr:hover{
    background:#f4f6ff;
}
</style>

</head>
<body>

<h1>üìä Dashboard des Notes</h1>
<iframe title="projet" width="600" height="373.5" 
src="https://app.powerbi.com/view?r=eyJrIjoiMDI4NTk1OTYtNDJjMC00OWZlLWEwZGMtODVmMmU2MTc2ODhlIiwidCI6ImRiZDY2NjRkLTRlYjktNDZlYi05OWQ4LTVjNDNiYTE1M2M2MSIsImMiOjl9" 
frameborder="0" allowFullScreen="true"></iframe>



<div class="form-container">
    <h2>Ajouter une note</h2>

    <label>Nom √âtudiant</label>
    <input type="text" id="etudiant">

    <label>Mati√®re</label>
    <input type="text" id="matiere">

    <label>Note</label>
    <input type="number" id="note" placeholder="0-20" min="0" max="20">

    <button onclick="ajouterNote()">Ajouter</button>
</div>

<div class="stats-container">
    <div class="card">
        <h3>Moyenne G√©n√©rale</h3>
        <p id="moyenneGenerale">-</p>
    </div>
    <div class="card">
        <h3>Taux de R√©ussite</h3>
        <p id="tauxReussite">-</p>
    </div>
</div>

<div class="table-container">
    <h2>Moyenne par Mati√®re</h2>
    <table>
        <thead>
            <tr>
                <th>Mati√®re</th>
                <th>Moyenne</th>
            </tr>
        </thead>
        <tbody id="tableMatieres"></tbody>
    </table>
</div>

<script>
let notes = [];

function ajouterNote(){
    const e = document.getElementById("etudiant").value.trim();
    const m = document.getElementById("matiere").value.trim();
    const n = parseFloat(document.getElementById("note").value);

    if(!e || !m || isNaN(n)){
        alert("Remplis tous les champs!");
        return;
    }

    notes.push({etudiant:e, matiere:m, note:n});

    document.getElementById("etudiant").value = "";
    document.getElementById("matiere").value = "";
    document.getElementById("note").value = "";

    calculerStats();
}

function calculerStats(){
    if(notes.length === 0){
        document.getElementById("moyenneGenerale").innerText = "-";
        document.getElementById("tauxReussite").innerText = "-";
        document.getElementById("tableMatieres").innerHTML = "";
        return;
    }

    // Moyenne g√©n√©rale
    let total = 0;
    notes.forEach(n=> total += n.note);
    document.getElementById("moyenneGenerale").innerText = (total/notes.length).toFixed(2);

    // Moyenne par mati√®re
    const matieres = {};
    notes.forEach(n=>{
        if(!matieres[n.matiere]) matieres[n.matiere] = {total:0,count:0};
        matieres[n.matiere].total += n.note;
        matieres[n.matiere].count++;
    });

    const tbody = document.getElementById("tableMatieres");
    tbody.innerHTML = "";

    for(let m in matieres){
        const avg = (matieres[m].total / matieres[m].count).toFixed(2);
        tbody.innerHTML += `
            <tr>
                <td>${m}</td>
                <td>${avg}</td>
            </tr>
        `;
    }

    // Taux de r√©ussite
    const etudiants = {};
    notes.forEach(n=>{
        if(!etudiants[n.etudiant]) etudiants[n.etudiant] = {total:0,count:0};
        etudiants[n.etudiant].total += n.note;
        etudiants[n.etudiant].count++;
    });

    let totalEt = 0;
    let reussite = 0;

    for(let e in etudiants){
        totalEt++;
        const avg = etudiants[e].total / etudiants[e].count;
        if(avg >= 10) reussite++;
    }

    document.getElementById("tauxReussite").innerText =
        ((reussite/totalEt)*100).toFixed(1) + " %";
}
</script>

</body>
</html>
